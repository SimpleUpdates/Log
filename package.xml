<?xml version="1.0" encoding="ISO-8859-1" ?>
<package>
    <name>Log</name>
    <summary>Logging utilities</summary>
    <description>
The Log framework provides an abstracted logging system.  It supports logging to console, file, syslog, SQL, mail, and mcal targets.  It also provides a subject - observer mechanism.
    </description>
    <license>PHP 2.02</license>
    <maintainers>
        <maintainer>
            <user>jon</user>
            <name>Jon Parise</name>
            <email>jon@php.net</email>
            <role>lead</role>
        </maintainer>
    </maintainers>
    <release>
        <version>1.7.0</version>
        <date>2003-06-??</date>
        <state>stable</state>
        <notes>
It is now possible to specific a specific mask that dictates exactly which levels will be logged.  For example, to log all events *except* those that were assigned the PEAR_LOG_NOTICE priority:

    $mask = PEAR_LOG_ALL ^ Log::MASK(PEAR_LOG_NOTICE);
    $log->setMask($mask);

To log all message up to a specific log level (which is equivalent to the previous "maxLevel" setting):

    $mask = Log::UPTO(PEAR_LOG_INFO);
    $log->setMask($mask);

To log only notices and debug messages:

    $mask = Log::MASK(PEAR_LOG_NOTICE) | Log::MASK(PEAR_LOG_DEBUG);
    $log->setMask($mask);

Complete backwards compatibility has been maintained.

Also, a number of convenient "shortcut" functions have been added for logging messages at specific log messages.
        </notes>
        <filelist>
          <dir name="/">
            <file role="php">Log.php</file>
	      <dir name="Log">
	        <file role="php">composite.php</file>
	        <file role="php">console.php</file>
	        <file role="php">file.php</file>
  	        <file role="php">mail.php</file>
  	        <file role="php">mcal.php</file>
  	        <file role="php">observer.php</file>
	        <file role="php">sql.php</file>
	        <file role="php">syslog.php</file>
	      </dir>
          </dir>
        </filelist>
        <deps>
          <dep type="pkg" rel="has" optional="yes">DB</dep>
        </deps>
    </release>
    <changelog>
      <release>
        <version>1.6.7</version>
        <date>2003-06-16</date>
        <state>stable</state>
        <notes>
It is now possible to set the identification string for all of a composite's child instances.

The preamble of the mail handler's message is now configurable.
        </notes>
        <deps>
          <dep type="pkg" rel="has" optional="yes">DB</dep>
        </deps>
      </release>
      <release>
        <version>1.6.6</version>
        <date>2003-06-05</date>
        <state>stable</state>
        <notes>
In the file handler, store the ident string in the _logLines cache.  It's now possible to change the ident string using Log::setIdent() in the middle of a set of log entries.
        </notes>
        <deps>
          <dep type="pkg" rel="has" optional="yes">DB</dep>
        </deps>
      <release>
      </release>
        <version>1.6.5</version>
        <date>2003-04-26</date>
        <state>stable</state>
        <notes>
The mail log handler needs to register its own destructer now that the Log class no longer inherits from the PEAR base class.
        </notes>
        <filelist>
          <dir name="/">
            <file role="php">Log.php</file>
	      <dir name="Log">
	        <file role="php">composite.php</file>
	        <file role="php">console.php</file>
	        <file role="php">file.php</file>
  	        <file role="php">mail.php</file>
  	        <file role="php">mcal.php</file>
  	        <file role="php">observer.php</file>
	        <file role="php">sql.php</file>
	        <file role="php">syslog.php</file>
	      </dir>
          </dir>
        </filelist>
        <deps>
          <dep type="pkg" rel="has" optional="yes">DB</dep>
        </deps>
      </release>
      <release>
        <version>1.6.4</version>
        <date>2003-04-08</date>
        <state>stable</state>
        <notes>
The Log classes no longer inherits from the PEAR base class.  Not including the PEAR base class gives us smaller, faster Log objects.

The Log_file class now registers its own destructor to ensure that the logfile is correctly closed upon shutdown.

A ZendEngine 1 incompatibility was introduced in the previous release.  This has been corrrected.
        </notes>
        <deps>
          <dep type="pkg" rel="has" optional="yes">DB</dep>
        </deps>
      </release>
      <release>
        <version>1.6.3</version>
        <date>2003-04-07</date>
        <state>stable</state>
        <notes>
A unique identifier is now stored inside each Log instance.  Both the composite and subject-observer mechanisms use this identifier to index their object lists.

The internals of the Log_observer system have been rewritten for general cleanliness.  The external interface remains unchanged.

The Log class now offers public setIdent() and getIdent() members for setting and getting the Log instance's identification string during the object's lifetime.
        </notes>
      </release>
      <release>
        <version>1.6.2</version>
        <date>2003-04-06</date>
        <state>stable</state>
        <notes>
In the Log_observer class, operate directly on the reference to the Log instance (instead of on a copy of the object).
        </notes>
      </release>
      <release>
        <version>1.6.1</version>
        <date>2003-04-02</date>
        <state>stable</state>
        <notes>
- Fix a typo that broke the Log_Observer class.
        </notes>
      </release>
      <release>
        <version>1.6.0</version>
        <date>2003-02-17</date>
        <state>stable</state>
        <notes>
- The SQL handler now uses sequences instead of timestamps as unique identifiers.
- The time format used by the file handler is now configurable.
        </notes>
      </release>
      <release>
        <version>1.5.3</version>
        <date>2003-01-01</date>
        <state>stable</state>
        <notes>
- Improved singleton()'s signature generation.
- The SQL handler no longer closes existing database connections.
- The log() method now returns a boolean result indicating success or failure.
        </notes>
      </release>
      <release>
        <version>1.5.2</version>
        <date>2002-11-28</date>
        <state>stable</state>
        <notes>
- Altered the singleton's "signature" construction to be shorter and more array-friendly.
        </notes>
      </release>
      <release>
        <version>1.5.1</version>
        <date>2002-11-17</date>
        <state>stable</state>
        <notes>
- The mail handler now implements a destructor to ensure close() is called.
- The syslog handler now requires $name to be a valid syslog facility.
        </notes>
      </release>
      <release>
        <version>1.5</version>
        <date>2002-10-24</date>
        <state>stable</state>
        <notes>
- Adding the ability to set the mode of the logfile in the Log_file.
- mail() failures in Log_mail are logged via error_log().
- Replaced all remaining LOG_* constants with the PEAR_LOG_* versions.
        </notes>
      </release>
      <release>
        <version>1.4</version>
        <date>2002-09-28</date>
        <state>stable</state>
        <notes>
- Altered the format of the SQL logging table to use a TIMESTAMP field.
- The Log class now extends the PEAR base class.
- New file logger that keeps the log file open for the life of the request.
        </notes>
      </release>
      <release>
        <version>1.3</version>
        <date>2002-09-15</date>
        <state>stable</state>
        <notes>
         Adding a mail logging target.
        </notes>
      </release>
      <release>
        <version>1.2</version>
        <date>2002-07-24</date>
        <state>stable</state>
        <notes>
         Introduce the PEAR_LOG_* constants.
        </notes>
      </release>
      <release>
        <version>1.1</version>
        <date>2002-04-12</date>
        <state>stable</state>
        <notes>
         Adding a new console logging target.
        </notes>
      </release>
    </changelog>
</package>
